<div class="tree" v-bind:style="styleObject" v-show="!draggingNode">
    <!--<div class="tree-debugging-info">-->
        <!--URI: {{content.uri}} -&#45;&#45;-->
        <!--INITIALParentID: {{content.initialParentId}} -&#45;&#45;-->
        <!--contentID: {{content.id}}-->
        <!--TYPE: {{content.type}}-->
    <!--</div>-->
    <div class="tree-fact" v-if="typeIsFact">
        <div class="tree-current-fact" v-show="!editing">
            <input type="text" class="tree-current-fact-id" :value="content.id" hidden>
            <div class="tree-current-fact-question">{{content.question}}</div>
            <div class="tree-current-fact-answer">{{content.answer}}</div>
        </div>
        <div class="tree-new-fact" v-show="editing">
            <input class="tree-id" v-model="content.id" hidden>
            <input class="tree-new-fact-question" v-model="content.question">
            <textarea class="tree-new-fact-answer" v-model="content.answer"></textarea>
            <div>
                <button class="fact-new-save" v-on:click="changeContent">Save</button>
            </div>
        </div>
    </div>
    <div class="tree-heading" v-if="typeIsHeading">
        {{numChildren}}
        {{tree.id}} --
        {{tree.proficiencyStats.UNKNOWN}} --
        {{tree.proficiencyStats.ONE}} --
        {{tree.proficiencyStats.TWO}} --
        {{tree.proficiencyStats.THREE}} --
        {{tree.proficiencyStats.FOUR}} --
        TIMER: {{tree.aggregationTimer}}
        <!--<button v-on:click="recalculateProficiencyAggregation">Recalculate Proficiency Aggregation</button>-->
        <div class="tree-current-heading" v-show="!editing">
            <input type="text" class="tree-current-fact-id" :value="content.id" hidden>
            <div class="tree-current-heading">{{content.title}}</div>
        </div>
        <div class="tree-new-heading" v-show="editing">
            <input class="tree-id" v-model="content.id" hidden>
            <textarea class="tree-new-heading" v-model="content.title"></textarea>
            <div>
                <button class="heading-new-save" v-on:click="changeContent">Save</button>
            </div>
        </div>
    </div>
    <div class="tree-skill" v-if="typeIsSkill">
        <div class="tree-current-skill" v-show="!editing">
            <input type="text" class="tree-current-skill-id" :value="content.id" hidden>
            <div class="tree-current-skill">{{content.title}}</div>
        </div>
        <div class="tree-new-skill" v-show="editing">
            <input class="tree-id" v-model="content.id" hidden>
            <textarea style="width: 100%" class="tree-new-skill" v-model="content.title"></textarea>
            <div>
                <button class="skill-new-save" v-on:click="changeContent">Save</button>
            </div>
        </div>
    </div>
    <div class="tree-proficiency" v-show="!addingChild && typeIsFact">
        <div class="divider-horizontal"></div>
        <div class="tree-proficiency-message">How well did you know this?</div>
        <proficiency-selector v-on:input="syncProficiency" v-model="content.proficiency"></proficiency-selector>
        <!--<div class="tree-proficiency">-->
            <!--<button class="tree-proficiency-one" v-on:click="setProficiencyToOne">Not at all</button>-->
            <!--<button class="tree-proficiency-two" v-on:click="setProficiencyToTwo">A lil'</button>-->
            <!--<button class="tree-proficiency-three" v-on:click="setProficiencyToThree">Mostly</button>-->
            <!--<button class="tree-proficiency-four" v-on:click="setProficiencyToFour">All the way baby</button>-->
        <!--</div>-->
    </div>
    <div class="tree-footer" v-show="!addingChild">
        <div class="divider-horizontal"></div>
        <div class="tree-footer-row">
            <div class="tree-edit-button" v-on:click="toggleEditing">
                <i :class="{'tree-edit-button': true, 'fa': true, 'fa-pencil-square-o': !editing, 'fa-book': editing}" aria-hidden="true"></i>
            </div>
            <div class="tree-add-child-button" v-show="typeIsHeading" v-on:click="toggleAddChild">
                <i :class="{'tree-edit-button': true, 'fa': true, 'fa-plus-square-o': !addingChild, 'fa-minus-square-o': addingChild}" aria-hidden="true"></i>
            </div>
            <div class="tree-timer" :title="timerMouseOverMessage" >{{content.timer | secondsToPretty}} </div>
            <!--<div class="tree-proficiency-value" title="proficiency"> {{content.proficiency}}% </div>-->
            <i class="tree-delete-button fa fa-trash-o" aria-hidden="true" v-if="user.isAdmin()" v-on:click="remove" ></i>
        </div>
        <div class="tree-proficiency-timeTilReview" v-if="content.inStudyQueue && !typeIsHeading">Next Review Time: {{content.nextReviewTime | timeFromNow}}</div>
    </div>
    <div v-show="addingChild" class="tree-add-child-button" v-on:click="toggleAddChild">
        <i :class="{'tree-edit-button': true, 'fa': true, 'fa-plus-square-o': !addingChild, 'fa-minus-square-o': addingChild}" aria-hidden="true"></i>
    </div>
    <newtree :parentid="id" :initialparenttreecontenturi="content.uri" v-show="addingChild && typeIsHeading"></newtree>
</div>
